{
    "version": 3,
    "terraform_version": "0.11.7",
    "serial": 9,
    "lineage": "176ae5f1-1850-4179-af08-45671d6c51e5",
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {},
            "resources": {
                "aws_eks_cluster.kubernetes-sandbox-eks": {
                    "type": "aws_eks_cluster",
                    "depends_on": [
                        "aws_iam_role.kubernetes-role",
                        "aws_subnet.kubernetes_public_subnet_a",
                        "aws_subnet.kubernetes_public_subnet_b"
                    ],
                    "primary": {
                        "id": "kubernetes-sandbox-cluster",
                        "attributes": {
                            "arn": "arn:aws:eks:eu-west-1:773209191623:cluster/kubernetes-sandbox-cluster",
                            "certificate_authority.#": "1",
                            "certificate_authority.0.data": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRFNU1EVXlOREV3TWpnek5Gb1hEVEk1TURVeU1URXdNamd6TkZvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBS3pwCk5Vb04xZE5XblJSZzRiUm81bWVuOVZpVkhkeTUzTDloMlkvU01YQkIvVlFXWFAvMG9mTWtjUVBBMndSSTNFZjEKRWROejlMQ29VaTVWL0JJc1VLNUtGU25LMHI3RVIwbnhvOG9Ibk5reUpFL28yTE0randzZW96Sm5OdVQ1ZTNuaQo2SWFXN25ZSVRTSG1KdUUxeVd2RjdUcXdPMW5NNERKRmgzR3M0cUM0bisrMmpIQ05yYndvdWNxOU9PRkJQbldqCjU0alJURmxBUmxBNWx0UXREcy9UZU1CWHcvYzlvZjFwL2J1My9BeDJvL2xISU16SFZrQ2dhTzZVYmVyTmh1TVEKdmNUZnlKK1R6N0JQaFRrbWJ4YkVNb2Qxc0xLci96R3cwNzhLa1hnYnkxdVlENXBDU3JlR2k3RkJTenJHNVQyWQoxS2ZTUmxHOEJSa2NWRjlSWEpVQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFEZDJXamRWRnlXTzBPQ2NJWnh0M3ZLUWtkNFYKY2lGc25ST0tDV2cvR3VyZ2xYOGNCb1VBZjRVYmZ0SThBSGtMTnRnQmdsYkgrSlFsQUNDSTZTajZhS1d5YXloaApyOHZwaVYxTGdSV3d2TjVOanhWYVJ1YnJFWXhWUXNITWlQeGNVcllhYjBLblBHam9na0E1d3ltMm9UNnl1S3FtCnpZOUpieGZjM2xJUzJ1WTJSc0I3U1dINkZqR2FGUUhtbzluZ3ArQXpiQjZMSkNSL0R1U21hcnlXeFZtdEFRejUKaDg3VU52eENFRllGV0hJUWNUdXY0V25WdUQrTXFKb2VhMmpwSEYyL2UvT3lwZFVsWGp2MVZxZkM2QlN5cy9DTgplOXViOWhhRFdUSjRiNkxXQVorMXhSQXR1VHlyZnpvTlptaXpmRXROTDBqSENHSEdGVWJXL0RZQkNGdz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=",
                            "created_at": "2019-05-24 10:21:32 +0000 UTC",
                            "enabled_cluster_log_types.#": "0",
                            "endpoint": "https://D487D127BE6EDC04CBE050609DB06C68.sk1.eu-west-1.eks.amazonaws.com",
                            "id": "kubernetes-sandbox-cluster",
                            "name": "kubernetes-sandbox-cluster",
                            "platform_version": "eks.2",
                            "role_arn": "arn:aws:iam::773209191623:role/KubernetesRole",
                            "version": "1.12",
                            "vpc_config.#": "1",
                            "vpc_config.0.endpoint_private_access": "false",
                            "vpc_config.0.endpoint_public_access": "true",
                            "vpc_config.0.security_group_ids.#": "0",
                            "vpc_config.0.subnet_ids.#": "2",
                            "vpc_config.0.subnet_ids.3863194368": "subnet-0da3849ef737bbb75",
                            "vpc_config.0.subnet_ids.4105481202": "subnet-06e84b587bd23973d",
                            "vpc_config.0.vpc_id": "vpc-0a80839c7b85e6d80"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 900000000000,
                                "delete": 900000000000,
                                "update": 3600000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role.kubernetes-role": {
                    "type": "aws_iam_role",
                    "depends_on": [],
                    "primary": {
                        "id": "KubernetesRole",
                        "attributes": {
                            "arn": "arn:aws:iam::773209191623:role/KubernetesRole",
                            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"eks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2019-05-24T10:07:50Z",
                            "description": "Role to allow a EKS to create resources",
                            "force_detach_policies": "false",
                            "id": "KubernetesRole",
                            "max_session_duration": "3600",
                            "name": "KubernetesRole",
                            "path": "/",
                            "tags.%": "1",
                            "tags.Name": "Kubernetes Sandbox",
                            "unique_id": "AROA3IBW36TDYXCYQR4OG"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role_policy_attachment.eks_cluster_policy_attachement": {
                    "type": "aws_iam_role_policy_attachment",
                    "depends_on": [
                        "aws_iam_role.kubernetes-role",
                        "data.aws_iam_policy.AmazonEKSClusterPolicy"
                    ],
                    "primary": {
                        "id": "KubernetesRole-20190524101930888200000001",
                        "attributes": {
                            "id": "KubernetesRole-20190524101930888200000001",
                            "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSClusterPolicy",
                            "role": "KubernetesRole"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role_policy_attachment.eks_service_policy_attachement": {
                    "type": "aws_iam_role_policy_attachment",
                    "depends_on": [
                        "aws_iam_role.kubernetes-role",
                        "data.aws_iam_policy.AmazonEKSServicePolicy"
                    ],
                    "primary": {
                        "id": "KubernetesRole-20190524101930952300000002",
                        "attributes": {
                            "id": "KubernetesRole-20190524101930952300000002",
                            "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSServicePolicy",
                            "role": "KubernetesRole"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_subnet.kubernetes_public_subnet_a": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.kubernetes-sandbox-vpc"
                    ],
                    "primary": {
                        "id": "subnet-06e84b587bd23973d",
                        "attributes": {
                            "arn": "arn:aws:ec2:eu-west-1:773209191623:subnet/subnet-06e84b587bd23973d",
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "eu-west-1a",
                            "availability_zone_id": "euw1-az2",
                            "cidr_block": "10.0.1.0/24",
                            "id": "subnet-06e84b587bd23973d",
                            "ipv6_cidr_block": "",
                            "ipv6_cidr_block_association_id": "",
                            "map_public_ip_on_launch": "false",
                            "owner_id": "773209191623",
                            "tags.%": "1",
                            "tags.Name": "Kubernetes Sandbox VPC",
                            "vpc_id": "vpc-0a80839c7b85e6d80"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_subnet.kubernetes_public_subnet_b": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.kubernetes-sandbox-vpc"
                    ],
                    "primary": {
                        "id": "subnet-0da3849ef737bbb75",
                        "attributes": {
                            "arn": "arn:aws:ec2:eu-west-1:773209191623:subnet/subnet-0da3849ef737bbb75",
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "eu-west-1b",
                            "availability_zone_id": "euw1-az3",
                            "cidr_block": "10.0.2.0/24",
                            "id": "subnet-0da3849ef737bbb75",
                            "ipv6_cidr_block": "",
                            "ipv6_cidr_block_association_id": "",
                            "map_public_ip_on_launch": "false",
                            "owner_id": "773209191623",
                            "tags.%": "1",
                            "tags.Name": "Kubernetes Sandbox VPC",
                            "vpc_id": "vpc-0a80839c7b85e6d80"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_vpc.kubernetes-sandbox-vpc": {
                    "type": "aws_vpc",
                    "depends_on": [],
                    "primary": {
                        "id": "vpc-0a80839c7b85e6d80",
                        "attributes": {
                            "arn": "arn:aws:ec2:eu-west-1:773209191623:vpc/vpc-0a80839c7b85e6d80",
                            "assign_generated_ipv6_cidr_block": "false",
                            "cidr_block": "10.0.0.0/16",
                            "default_network_acl_id": "acl-0daff4d542474990b",
                            "default_route_table_id": "rtb-024d37e5ea3373d68",
                            "default_security_group_id": "sg-00d082e35ac225d45",
                            "dhcp_options_id": "dopt-09b228eda8ff1b4ec",
                            "enable_classiclink": "false",
                            "enable_classiclink_dns_support": "false",
                            "enable_dns_hostnames": "false",
                            "enable_dns_support": "true",
                            "id": "vpc-0a80839c7b85e6d80",
                            "instance_tenancy": "default",
                            "ipv6_association_id": "",
                            "ipv6_cidr_block": "",
                            "main_route_table_id": "rtb-024d37e5ea3373d68",
                            "owner_id": "773209191623",
                            "tags.%": "1",
                            "tags.Name": "Kubernetes Sandbox VPC"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_vpc.kubernetes-vpc": {
                    "type": "aws_vpc",
                    "depends_on": [],
                    "primary": {
                        "id": "vpc-0c173ff620b162d6e",
                        "attributes": {
                            "arn": "arn:aws:ec2:eu-west-1:773209191623:vpc/vpc-0c173ff620b162d6e",
                            "assign_generated_ipv6_cidr_block": "false",
                            "cidr_block": "10.0.0.0/16",
                            "default_network_acl_id": "acl-02d398c14183d11af",
                            "default_route_table_id": "rtb-04de61f4d3488e9c0",
                            "default_security_group_id": "sg-016cf97fca7a0c9c4",
                            "dhcp_options_id": "dopt-09b228eda8ff1b4ec",
                            "enable_classiclink": "false",
                            "enable_classiclink_dns_support": "false",
                            "enable_dns_hostnames": "false",
                            "enable_dns_support": "true",
                            "id": "vpc-0c173ff620b162d6e",
                            "instance_tenancy": "default",
                            "ipv6_association_id": "",
                            "ipv6_cidr_block": "",
                            "main_route_table_id": "rtb-04de61f4d3488e9c0",
                            "owner_id": "773209191623",
                            "tags.%": "0"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_iam_policy.AmazonEKSClusterPolicy": {
                    "type": "aws_iam_policy",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:iam::aws:policy/AmazonEKSClusterPolicy",
                        "attributes": {
                            "arn": "arn:aws:iam::aws:policy/AmazonEKSClusterPolicy",
                            "description": "This policy provides Kubernetes the permissions it requires to manage resources on your behalf. Kubernetes requires Ec2:CreateTags permissions to place identifying information on EC2 resources including but not limited to Instances, Security Groups, and Elastic Network Interfaces. ",
                            "id": "arn:aws:iam::aws:policy/AmazonEKSClusterPolicy",
                            "name": "AmazonEKSClusterPolicy",
                            "path": "/",
                            "policy": "{\n   \"Version\": \"2012-10-17\",\n   \"Statement\": [\n     {\n       \"Effect\": \"Allow\",\n       \"Action\": [\n         \"autoscaling:DescribeAutoScalingGroups\",\n         \"autoscaling:UpdateAutoScalingGroup\",\n         \"ec2:AttachVolume\",\n         \"ec2:AuthorizeSecurityGroupIngress\",\n         \"ec2:CreateRoute\",\n         \"ec2:CreateSecurityGroup\",\n         \"ec2:CreateTags\",\n         \"ec2:CreateVolume\",\n         \"ec2:DeleteRoute\",\n         \"ec2:DeleteSecurityGroup\",\n         \"ec2:DeleteVolume\",\n         \"ec2:DescribeInstances\",\n         \"ec2:DescribeRouteTables\",\n         \"ec2:DescribeSecurityGroups\",\n         \"ec2:DescribeSubnets\",\n         \"ec2:DescribeVolumes\",\n         \"ec2:DescribeVolumesModifications\",\n         \"ec2:DescribeVpcs\",\n         \"ec2:DescribeDhcpOptions\",\n         \"ec2:DetachVolume\",\n         \"ec2:ModifyInstanceAttribute\",\n         \"ec2:ModifyVolume\",\n         \"ec2:RevokeSecurityGroupIngress\",\n         \"elasticloadbalancing:AddTags\",\n         \"elasticloadbalancing:ApplySecurityGroupsToLoadBalancer\",\n         \"elasticloadbalancing:AttachLoadBalancerToSubnets\",\n         \"elasticloadbalancing:ConfigureHealthCheck\",\n         \"elasticloadbalancing:CreateListener\",\n         \"elasticloadbalancing:CreateLoadBalancer\",\n         \"elasticloadbalancing:CreateLoadBalancerListeners\",\n         \"elasticloadbalancing:CreateLoadBalancerPolicy\",\n         \"elasticloadbalancing:CreateTargetGroup\",\n         \"elasticloadbalancing:DeleteListener\",\n         \"elasticloadbalancing:DeleteLoadBalancer\",\n         \"elasticloadbalancing:DeleteLoadBalancerListeners\",\n         \"elasticloadbalancing:DeleteTargetGroup\",\n         \"elasticloadbalancing:DeregisterInstancesFromLoadBalancer\",\n         \"elasticloadbalancing:DeregisterTargets\",\n         \"elasticloadbalancing:DescribeListeners\",\n         \"elasticloadbalancing:DescribeLoadBalancerAttributes\",\n         \"elasticloadbalancing:DescribeLoadBalancerPolicies\",\n         \"elasticloadbalancing:DescribeLoadBalancers\",\n         \"elasticloadbalancing:DescribeTargetGroupAttributes\",\n         \"elasticloadbalancing:DescribeTargetGroups\",\n         \"elasticloadbalancing:DescribeTargetHealth\",\n         \"elasticloadbalancing:DetachLoadBalancerFromSubnets\",\n         \"elasticloadbalancing:ModifyListener\",\n         \"elasticloadbalancing:ModifyLoadBalancerAttributes\",\n         \"elasticloadbalancing:ModifyTargetGroup\",\n         \"elasticloadbalancing:ModifyTargetGroupAttributes\",\n         \"elasticloadbalancing:RegisterInstancesWithLoadBalancer\",\n         \"elasticloadbalancing:RegisterTargets\",\n         \"elasticloadbalancing:SetLoadBalancerPoliciesForBackendServer\",\n         \"elasticloadbalancing:SetLoadBalancerPoliciesOfListener\",\n         \"kms:DescribeKey\"\n       ],\n       \"Resource\": \"*\"\n     },\n     {\n       \"Effect\": \"Allow\",\n       \"Action\": \"iam:CreateServiceLinkedRole\",\n       \"Resource\": \"*\",\n       \"Condition\": {\n         \"StringLike\": {\n           \"iam:AWSServiceName\": \"elasticloadbalancing.amazonaws.com\"\n         }\n       }\n     }\n   ]\n }"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_iam_policy.AmazonEKSServicePolicy": {
                    "type": "aws_iam_policy",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:iam::aws:policy/AmazonEKSServicePolicy",
                        "attributes": {
                            "arn": "arn:aws:iam::aws:policy/AmazonEKSServicePolicy",
                            "description": "This policy allows Amazon Elastic Container Service for Kubernetes to create and manage the necessary resources to operate EKS Clusters.",
                            "id": "arn:aws:iam::aws:policy/AmazonEKSServicePolicy",
                            "name": "AmazonEKSServicePolicy",
                            "path": "/",
                            "policy": "{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ec2:CreateNetworkInterface\",\n                \"ec2:CreateNetworkInterfacePermission\",\n                \"ec2:DeleteNetworkInterface\",\n                \"ec2:DescribeInstances\",\n                \"ec2:DescribeNetworkInterfaces\",\n                \"ec2:DescribeSecurityGroups\",\n                \"ec2:DescribeSubnets\",\n                \"ec2:DescribeVpcs\",\n                \"ec2:ModifyNetworkInterfaceAttribute\",\n                \"iam:ListAttachedRolePolicies\"\n            ],\n            \"Resource\": \"*\"\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ec2:CreateTags\",\n                \"ec2:DeleteTags\"\n            ],\n            \"Resource\": [\n                \"arn:aws:ec2:*:*:vpc/*\",\n                \"arn:aws:ec2:*:*:subnet/*\"\n\n            ]\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": \"route53:AssociateVPCWithHostedZone\",\n            \"Resource\": \"*\"\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": \"logs:CreateLogGroup\",\n            \"Resource\": \"*\"\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"logs:CreateLogStream\",\n                \"logs:DescribeLogStreams\"\n            ],\n            \"Resource\": \"arn:aws:logs:*:*:log-group:/aws/eks/*:*\"\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": \"logs:PutLogEvents\",\n            \"Resource\": \"arn:aws:logs:*:*:log-group:/aws/eks/*:*:*\"\n        }\n    ]\n}"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                }
            },
            "depends_on": []
        }
    ]
}
